### 校验码
  > **`校验码`**:目的是为了扩大码距，通过校验规律来识别错误代码</br>
  **`码距`**: 编码体制里的一个概念</br>
   两个码组对应位上数字的不同位的个数称为码组的距离，简称码距，又称海明（Hamming）距离。</br>
  **`最小码距`**: 一种编码中任意两个码字之间最少变化的二进制位数
  >>例如:</br> 
  1**11**1**11**1**11**</br>
  1**00**1**00**1**00**</br>
  他们之间有6位不同,所以码距为6
  ---
  > **`BCD码`**: </br>
  >> 有权码:</bar>
    `8421码`、`2421码`、`5421码`</br>  
  >> **`8421码`**: </br>
    ![1-1](https://github.com/flysafely/Software-Design-Engineer-Note/blob/master/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86/%E6%9C%AC%E7%AB%A0%E5%9B%BE%E4%BE%8B/1-1.jpg)</br>
     无权码:</bar>
    `格雷码`、`余3码`</bar>
  ---
  + #### 奇偶校验码
    + **`奇性`**: 一个二进制的码字(0001 0000 => a<sub>0</sub>a<sub>1</sub>a<sub>2</sub>a<sub>3</sub> a<sub>4</sub>a<sub>5</sub>a<sub>6</sub>a<sub>7</sub>),它的码元(a<sub>n</sub>)中1的个数为奇数
      > 人可以靠数一共有几个1确定码字是不是奇性</br>
      计算机是通过对所有码元进行模二加(异或xor ⊕) `这里的二是指的二进制，同理还有模八加等`)运算后的结果
      >> 结果等于0说明有偶数个1</br>结果等于1说明有奇数个1
    + **`奇校验`**:给每一个码字加一个校验位，用它来构成**奇性**校验
      > 通过在编码(码字)中增加一位(最后或最前)检验位来使新的编码(包含校验位)中1的个数为**奇数**
    + **`偶校验`**:给每一个码字加一个校验位，用它来构成**偶性**校验
      > 通过在编码(码字)中增加一位(最后或最前)检验位来使新的编码(包含校验位)中1的个数为**偶数**
    + **`奇偶校验的过程`**
      > 例如:</br>
      一个8421码:1000 0111 (对应十进制为97)`其中有4个1`,a<sub>0</sub>⊕a<sub>1</sub>⊕a<sub>2</sub>⊕a<sub>3</sub> ⊕a<sub>4</sub>⊕a<sub>5</sub>⊕a<sub>6</sub>⊕a<sub>7</sub>=0</br>
      约定采用发送和接受端采用**奇校验**，校验码添加在最前面</br>
      1.因为原编码不满足`奇性`,所以校验位添加一个1是新的编码变为 1 1000 0111(其中有5个1满足`奇性`)准备发送</br>
      2.数据接收到后，除开第一位，开始求a<sub>0</sub>⊕a<sub>1</sub>⊕a<sub>2</sub>⊕a<sub>3</sub> ⊕a<sub>4</sub>⊕a<sub>5</sub>⊕a<sub>6</sub>⊕a<sub>7</sub>的值</br>
      3.如果其中发生了奇数个错误(任意1位、3位、5位或8位数发生反转,不是第1位、3位、5位、8位)，结果值=1(奇性)，，如果原编码本来就满足奇性，那校验码就应该添加的是0而不是1，但是校验码值也为1，就能检验出数据发生了错误。</br>
      4.如果没有发生错误或者偶数个位数发生了反转，结果值=0(偶性)，校验码值为1，刚好复合奇校验要求，
    + **`类型`**:
      + [水平奇偶校验码](https://baike.baidu.com/item/%E5%A5%87%E5%81%B6%E6%A0%A1%E9%AA%8C%E7%A0%81/4403451#2_2)
      + [垂直奇偶校验码](https://baike.baidu.com/item/%E5%A5%87%E5%81%B6%E6%A0%A1%E9%AA%8C%E7%A0%81/4403451#2_1)
      + [水平垂直奇偶校验码](https://baike.baidu.com/item/%E5%A5%87%E5%81%B6%E6%A0%A1%E9%AA%8C%E7%A0%81/4403451#2_3)
    
  + #### 海明码
    > 位置从左到右，角标从大到小
    + #### 海明码的编码规则
      + **数据的位数n和校验码位数k的关系:**</br>
        > 2<sup>k</sup>-1 ≥ n + k
        >> 例如:</br>
            8位的数据位，如何组成一个海明码:</br>
            当只取1位校验码, 2<sup>1</sup>-1 ＜ 8 + 1 不符合要求</br>
            当只取2位校验码, 2<sup>2</sup>-1 ＜ 8 + 2 不符合要求</br>
            当只取3位校验码, 2<sup>3</sup>-1 ＜ 8 + 3 不符合要求</br>
            当只取4位校验码, 2<sup>4</sup>-1 ＞ 8 + 4 符合要求</br>
            所以至少需要4位校验码
      + **校验码P<sub>i</sub>对应H<sub>j</sub>的位置:**</br>
        > j = 2<sup>i-1</sup>
      + **数据位在海明码中对应的位置:**</br>
        先确定了校验位的位置后，剩余的空位按从左往右，依次按下标从大到小填入数据位
      + **海明码和校验位的校验关系:**
        + 相应位置上的海明码是校验位的由校验位本身校验
        + 被校验的海明码下标值=参与校验该位的校验码的海明码下标的和
          > 例如 海明码H<sub>5</sub> 参与校验该位的校验码应该为：P<sub>1</sub>,P<sub>3</sub>，因为这个两个校验位的海明码下标分别为1和4,1+4=5
      + **校验码的值确定:**</br>
        + `奇校验`:</br>
          > 例如: 校验码P<sub>1</sub>,它出现在下表中`校验位组`1,3,5,7,9,11位海明码中，这些位置对应的分别是P<sub>1</sub>D<sub>0</sub>D<sub>1</sub>D<sub>3</sub>D<sub>4</sub>D<sub>6</sub></br>
          P<sub>1</sub>=D<sub>0</sub>⊕D<sub>1</sub>⊕D<sub>3</sub>⊕D<sub>4</sub>⊕D<sub>6</sub>
          + `奇校验`:如果</br>D<sub>0</sub>⊕D<sub>1</sub>⊕D<sub>3</sub>⊕D<sub>4</sub>⊕D<sub>6</sub>=1满足奇性，那么对应的校验位P<sub>i</sub>=0(校验位的作用是校验位添加到被校验位数位中后其1的个数为奇数)</br>
          如果</br>D<sub>0</sub>⊕D<sub>1</sub>⊕D<sub>3</sub>⊕D<sub>4</sub>⊕D<sub>6</sub>=0满足偶性，那么需要对应校验位P<sub>i</sub>=1，使其满足奇性
          
        + `偶校验`:</br>
        如果</br>D<sub>0</sub>⊕D<sub>1</sub>⊕D<sub>3</sub>⊕D<sub>4</sub>⊕D<sub>6</sub>=1满足奇性，那么对应的校验位P<sub>i</sub>=1，使其满足偶性</br>
        如果</br>D<sub>0</sub>⊕D<sub>1</sub>⊕D<sub>3</sub>⊕D<sub>4</sub>⊕D<sub>6</sub>=0满足偶性，那么需要对应校验位P<sub>i</sub>=0，使其满足奇性</br>
      + **海明码的形式:**</br>
      
   |类别|12位|11位|10位|9位|8位|7位|6位|5位|4位|3位|2位|1位|
   |:-------|:-------:|:------:|:------:|:------:|:------:|:------:|:------:|:------:|:------:|:------:|:------:|:------:
   |海明码|H<sub>12</sub>|H<sub>11</sub>|H<sub>10</sub>|H<sub>9</sub>|H<sub>8</sub>|H<sub>7</sub>|H<sub>6</sub>|H<sub>5</sub>|H<sub>4</sub>|     H<sub>3</sub>|H<sub>1</sub>|H<sub>1</sub></br>|
   |D、P|D<sub>7</sub>|D<sub>6</sub>|D<sub>5</sub>|D<sub>4</sub>|**P<sub>4</sub>**|D<sub>3</sub>|D<sub>2</sub>|D<sub>1</sub>|**P<sub>3</sub>**|D<sub>0</sub>|**P<sub>2</sub>**|**P<sub>1</sub>**|
   |关系|||||2<sup>4-1</sup>||||2<sup>3-1</sup>||2<sup>2-1</sup>|2<sup>1-1</sup>|
   |校验位组|P<sub>3</sub>,P<sub>4</sub>|P<sub>1</sub>,P<sub>2</sub>,P<sub>4</sub>|P<sub>2</sub>,P<sub>4</sub>|P<sub>1</sub>,P<sub>4</sub>|P<sub>4</sub>|P<sub>1</sub>,P<sub>2</sub>,P<sub>3</sub>|P<sub>2</sub>,P<sub>3</sub>|P<sub>1</sub>,P<sub>3</sub>|P<sub>3</sub>|P<sub>1</sub>,P<sub>2</sub>|P<sub>2</sub>|P<sub>1</sub>|
  + 例题：<br>
![1-7](https://github.com/flysafely/Software-Design-Engineer-Note/blob/master/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86/%E6%9C%AC%E7%AB%A0%E5%9B%BE%E4%BE%8B/1-7.jpg)

  + #### [循环冗余校验码](https://blog.csdn.net/sailist/article/details/83588406) CRC
    > CRC为校验和的一种，是两个字节数据流采用二进制除法（没有进位，使用XOR来代替减法）相除所得到的余数。其中被除数是需要计算校验和的信息数据流的二进制表示；除数是一个长度为n+1的预定义（短）的二进制数，通常用多项式的系数来表示。在做除法之前，要在信息数据之后先加上n个0.
    + 多项式编码`polynomial code`
    + 链路层使用广泛:`CRC循环冗余校验是硬件完成的`
    + 使用方式:</br>
      + 使用多项式编码时，发送方和接收方必须预先商定一个生成多项式 G(x)
      + 生成多项式的最高位和最低位系数必须是 1
      + 多项式的最高阶的值就是需要在原信息码后加上0的位数</br>
        > 例如:</br>
          采用生成多项式为 G(x)=x<sup>4</sup>+x<sup>1</sup>+x<sup>0</sup>  计算帧(数据位、信息码) 1101011111 校验和(需要发送的带CRC校验码的信息)</br>。
          ![1-2](https://github.com/flysafely/Software-Design-Engineer-Note/blob/master/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86/%E6%9C%AC%E7%AB%A0%E5%9B%BE%E4%BE%8B/1-2.jpg)
      + 上图的余数也可叫做校验码
      + 注意`最后得出的余数是需要通过二进制 加法 加到(信息码+最高阶数个0)中去，不是在最后添加！！！
